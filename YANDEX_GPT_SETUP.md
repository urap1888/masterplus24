# ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Yandex GPT –¥–ª—è –æ–Ω–ª–∞–π–Ω-—á–∞—Ç–∞

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### 1. Yandex Cloud –∞–∫–∫–∞—É–Ω—Ç
- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [cloud.yandex.ru](https://cloud.yandex.ru)
- –°–æ–∑–¥–∞–π—Ç–µ –ø–ª–∞—Ç–µ–∂–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
- –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å Yandex GPT

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è API
1. **Folder ID** - ID –ø–∞–ø–∫–∏ –≤ Yandex Cloud
2. **IAM Token** - —Ç–æ–∫–µ–Ω –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ Folder ID
```bash
# –í –∫–æ–Ω—Å–æ–ª–∏ Yandex Cloud
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–†–µ—Å—É—Ä—Å—ã" ‚Üí "–ü–∞–ø–∫–∏"
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –ø–∞–ø–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: b1g1234567890abcdef)
```

### –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç–µ IAM Token
```bash
# –ß–µ—Ä–µ–∑ Yandex CLI
yc iam create-token

# –ò–ª–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã" ‚Üí "–°–æ–∑–¥–∞—Ç—å —Ç–æ–∫–µ–Ω"
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
–í —Ñ–∞–π–ª–µ `chat-backend.js` –∑–∞–º–µ–Ω–∏—Ç–µ:
```javascript
const YANDEX_GPT_CONFIG = {
    FOLDER_ID: 'YOUR_FOLDER_ID', // –í–∞—à —Ä–µ–∞–ª—å–Ω—ã–π Folder ID
    IAM_TOKEN: 'YOUR_IAM_TOKEN', // –í–∞—à —Ä–µ–∞–ª—å–Ω—ã–π IAM Token
    API_URL: 'https://llm.api.cloud.yandex.net/foundationModels/v1/completion'
};
```

## üöÄ –ó–∞–ø—É—Å–∫

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
npm install
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend
```bash
npm start
# –∏–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

### 3. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç
```bash
open index.html
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ backend
```bash
curl http://localhost:3001/api/health
```

### 2. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —á–∞—Ç
- –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç –Ω–∞ —Å–∞–π—Ç–µ
- –ù–∞–ø–∏—à–∏—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–ü–µ—á–∞—Ç–∞–µ—Ç..."
- –ü–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç –æ—Ç Yandex GPT

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤ (–∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å)
```javascript
temperature: 0.7, // 0.0 = —Å—Ç—Ä–æ–≥–æ, 1.0 = –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ
```

### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞
```javascript
maxTokens: 1000, // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ
```

### –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
–ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ `chat-backend.js`:
```javascript
const SYSTEM_PROMPT = `–¢—ã —ç–∫—Å–ø–µ—Ä—Ç-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –ø–æ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞–º...`;
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### 1. –°–∫—Ä—ã—Ç–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
```javascript
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
const YANDEX_GPT_CONFIG = {
    FOLDER_ID: process.env.YANDEX_FOLDER_ID,
    IAM_TOKEN: process.env.YANDEX_IAM_TOKEN
};
```

### 2. CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```javascript
app.use(cors({
    origin: ['http://localhost', 'https://yourdomain.com'],
    credentials: true
}));
```

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

- **Yandex GPT**: ~0.5‚ÇΩ –∑–∞ 1000 —Ç–æ–∫–µ–Ω–æ–≤
- **–°—Ä–µ–¥–Ω–∏–π –æ—Ç–≤–µ—Ç**: 50-100 —Ç–æ–∫–µ–Ω–æ–≤
- **–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å**: 0.025-0.05‚ÇΩ –∑–∞ –æ—Ç–≤–µ—Ç

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ 401 (Unauthorized)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IAM Token
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –Ω–µ –∏—Å—Ç–µ–∫

### –û—à–∏–±–∫–∞ 403 (Forbidden)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Folder ID
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ Yandex GPT

### –û—à–∏–±–∫–∞ 429 (Too Many Requests)
- –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ –∏–ª–∏ —É–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç—ã

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç
lsof -i :3001

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install express cors node-fetch
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend —Å–µ—Ä–≤–µ—Ä–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–æ–∫–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Yandex GPT API

## üéØ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞—à —á–∞—Ç –±—É–¥–µ—Ç:
- ‚úÖ –ü–æ–Ω–∏–º–∞—Ç—å –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- ‚úÖ –ü–æ–º–Ω–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
- ‚úÖ –î–∞–≤–∞—Ç—å —É–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- ‚úÖ –†–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞—Ö
