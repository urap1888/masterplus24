<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–ª—É—á–µ–Ω–∏–µ Chat ID –≥—Ä—É–ø–ø—ã MP24</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .step {
            background: #e9ecef;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }
        .step h3 {
            margin-top: 0;
            color: #007bff;
        }
        input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        button {
            background: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #0056b3;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            white-space: pre-wrap;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .code {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            border: 1px solid #dee2e6;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç –ü–æ–ª—É—á–µ–Ω–∏–µ Chat ID –≥—Ä—É–ø–ø—ã MP24</h1>
        
        <div class="step">
            <h3>1Ô∏è‚É£ –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞</h3>
            <input type="text" id="botToken" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ (123456789:ABC...)">
            <button onclick="testBot()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–æ—Ç–∞</button>
        </div>

        <div class="step">
            <h3>2Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç–µ Chat ID –≥—Ä—É–ø–ø—ã</h3>
            <p><strong>–í–∞–∂–Ω–æ:</strong> –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É MP24!</p>
            <button onclick="getGroupChatId()">–ü–æ–ª—É—á–∏—Ç—å Chat ID –≥—Ä—É–ø–ø—ã</button>
        </div>

        <div class="step">
            <h3>3Ô∏è‚É£ –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</h3>
            <button onclick="sendTestMessage()">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç –≤ –≥—Ä—É–ø–ø—É</button>
        </div>

        <div class="step">
            <h3>4Ô∏è‚É£ –û–±–Ω–æ–≤–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞</h3>
            <p>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –Ω–∏–∂–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª <code>script.js</code>:</p>
            <div class="code" id="codeToCopy">
const TELEGRAM_BOT_TOKEN = '–í–ê–®_–¢–û–ö–ï–ù';
const TELEGRAM_CHAT_ID = '–í–ê–®_CHAT_ID_–ì–†–£–ü–ü–´';
            </div>
            <button onclick="copyCode()">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
        </div>

        <div id="result" class="result" style="display: none;"></div>
    </div>

    <script>
        let botToken = '';
        let groupChatId = '';

        async function testBot() {
            const token = document.getElementById('botToken').value.trim();
            if (!token) {
                showResult('‚ùå –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞', false);
                return;
            }

            botToken = token;

            try {
                const response = await fetch(`https://api.telegram.org/bot${token}/getMe`);
                const data = await response.json();
                
                if (data.ok) {
                    showResult(`‚úÖ –ë–æ—Ç –Ω–∞–π–¥–µ–Ω: ${data.result.first_name}\nUsername: @${data.result.username}`, true);
                } else {
                    showResult(`‚ùå –û—à–∏–±–∫–∞ –±–æ—Ç–∞: ${data.description}`, false);
                }
            } catch (error) {
                showResult(`‚ùå –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: ${error.message}`, false);
            }
        }

        async function getGroupChatId() {
            if (!botToken) {
                showResult('‚ùå –°–Ω–∞—á–∞–ª–∞ –≤–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞', false);
                return;
            }

            try {
                const response = await fetch(`https://api.telegram.org/bot${botToken}/getUpdates`);
                const data = await response.json();
                
                if (data.ok && data.result.length > 0) {
                    // –ò—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –≥—Ä—É–ø–ø
                    const groupMessages = data.result.filter(update => 
                        update.message && 
                        update.message.chat && 
                        update.message.chat.type === 'group'
                    );
                    
                    if (groupMessages.length > 0) {
                        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã
                        let groupsInfo = 'üìã –ù–∞–π–¥–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã:\n\n';
                        const uniqueGroups = new Map();
                        
                        groupMessages.forEach(update => {
                            const chat = update.message.chat;
                            if (!uniqueGroups.has(chat.id)) {
                                uniqueGroups.set(chat.id, {
                                    id: chat.id,
                                    title: chat.title,
                                    type: chat.type
                                });
                            }
                        });
                        
                        uniqueGroups.forEach((group, id) => {
                            groupsInfo += `üè∑Ô∏è –ù–∞–∑–≤–∞–Ω–∏–µ: ${group.title}\n`;
                            groupsInfo += `üÜî Chat ID: ${group.id}\n`;
                            groupsInfo += `üì± –¢–∏–ø: ${group.type}\n\n`;
                        });
                        
                        // –ï—Å–ª–∏ –µ—Å—Ç—å –≥—Ä—É–ø–ø–∞ —Å MP24 –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏
                        const mp24Group = Array.from(uniqueGroups.values()).find(group => 
                            group.title.toLowerCase().includes('mp24')
                        );
                        
                        if (mp24Group) {
                            groupChatId = mp24Group.id;
                            showResult(`‚úÖ –ì—Ä—É–ø–ø–∞ MP24 –Ω–∞–π–¥–µ–Ω–∞!\n\n${groupsInfo}–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Chat ID: ${groupChatId}`, true);
                        } else {
                            showResult(`‚ö†Ô∏è –ì—Ä—É–ø–ø–∞ MP24 –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –Ω–æ –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –≥—Ä—É–ø–ø—ã:\n\n${groupsInfo}–í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é –≥—Ä—É–ø–ø—É –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "MP24"`, false);
                        }
                    } else {
                        showResult('‚ùå –ì—Ä—É–ø–ø—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:\n1. –ë–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É\n2. –í –≥—Ä—É–ø–ø–µ –µ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è\n3. –ë–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω', false);
                    }
                } else {
                    showResult('‚ùå –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É –∏ –≤ –≥—Ä—É–ø–ø–µ –µ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è.', false);
                }
            } catch (error) {
                showResult(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`, false);
            }
        }

        async function sendTestMessage() {
            const token = botToken || document.getElementById('botToken').value.trim();
            const chatId = groupChatId || prompt('–í–≤–µ–¥–∏—Ç–µ Chat ID –≥—Ä—É–ø–ø—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: -123456789)');
            
            if (!token || !chatId) {
                showResult('‚ùå –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ Chat ID –≥—Ä—É–ø–ø—ã', false);
                return;
            }

            try {
                const message = `üß™ –¢–ï–°–¢–û–í–û–ï –°–û–û–ë–©–ï–ù–ò–ï –í –ì–†–£–ü–ü–£

üë§ –ò–º—è: –¢–µ—Å—Ç –¢–µ—Å—Ç–æ–≤
üìû –¢–µ–ª–µ—Ñ–æ–Ω: +375 (29) 284-84-34
üè† –ê–¥—Ä–µ—Å: –ú–∏–Ω—Å–∫, —É–ª. –¢–µ—Å—Ç–æ–≤–∞—è 1
üîß –£—Å–ª—É–≥–∞: –£—Å—Ç–∞–Ω–æ–≤–∫–∞
üí¨ –°–æ–æ–±—â–µ–Ω–∏–µ: –¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –≤ –≥—Ä—É–ø–ø–µ
üïí –í—Ä–µ–º—è: ${new Date().toLocaleString('ru-RU')}`;

                const response = await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: chatId,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });

                const data = await response.json();
                
                if (data.ok) {
                    showResult('‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –≥—Ä—É–ø–ø—É!\n–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥—Ä—É–ø–ø—É –≤ Telegram.', true);
                } else {
                    showResult(`‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: ${JSON.stringify(data, null, 2)}`, false);
                }
            } catch (error) {
                showResult(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`, false);
            }
        }

        function copyCode() {
            const chatId = groupChatId || prompt('–í–≤–µ–¥–∏—Ç–µ Chat ID –≥—Ä—É–ø–ø—ã');
            const token = botToken || document.getElementById('botToken').value.trim();
            
            if (!token || !chatId) {
                showResult('‚ùå –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ Chat ID', false);
                return;
            }

            const code = `const TELEGRAM_BOT_TOKEN = '${token}';
const TELEGRAM_CHAT_ID = '${chatId}';`;
            
            document.getElementById('codeToCopy').textContent = code;
            
            navigator.clipboard.writeText(code).then(() => {
                showResult('‚úÖ –ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!\n–¢–µ–ø–µ—Ä—å –≤—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –≤ —Ñ–∞–π–ª script.js', true);
            }).catch(() => {
                showResult('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –≤—Ä—É—á–Ω—É—é –∏–∑ –ø–æ–ª—è –≤—ã—à–µ.', false);
            });
        }

        function showResult(message, isSuccess) {
            const resultDiv = document.getElementById('result');
            resultDiv.textContent = message;
            resultDiv.className = `result ${isSuccess ? 'success' : 'error'}`;
            resultDiv.style.display = 'block';
        }
    </script>
</body>
</html>
